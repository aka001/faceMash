{{extend 'layout.html'}}

{{if(isAuthorized):}}

{{if(perID):}}

<!--  Individual Mash Listing Starts here -->
<h2>{{=row.name}}</h2>
<p><i>
{{=row.description}}
</i></p>
<p>Total Number of Images in the Mash : {{=row.num_of_images}}</p>
<b> Mash Public URL </b> : {{=A("Click Here",_href=URL("YourMash","index",args=mash_id , scheme=True, host=True))}}<br/>
<b> Mash Ranklist Public URL </b> :
{{=A("Click Here",_href=URL("YourMash","rankList",args=mash_id, scheme=True, host=True))}}<br/>
<br/>

<!-- {{=A("Add an Image to this Mash", _href=URL("face","create",args=mash_id))}}-->

<script type='text/javascript'>
$(document).ready(function(){
$.get('{{=URL("face","create",args=mash_id)}}', function(data){
  console.log(data);
  $("#AddImageBox").append(data);
});
});
</script>
<div id="AddImageBox">
<h5>Add Image to the Mash</h5>

</div>

<br/>

<style type="text/css">
.myButton {
	-moz-box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	-webkit-box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	box-shadow:inset 0px 1px 0px 0px #bbdaf7;
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #79bbff), color-stop(1, #378de5) );
	background:-moz-linear-gradient( center top, #79bbff 5%, #378de5 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#79bbff', endColorstr='#378de5');
	background-color:#79bbff;
	-moz-border-radius:6px;
	-webkit-border-radius:6px;
	border-radius:6px;
	border:1px solid #84bbf3;
	display:inline-block;
	color:#ffffff;
	font-family:arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:1px 1px 0px #528ecc;
}.myButton:hover {
	background:-webkit-gradient( linear, left top, left bottom, color-stop(0.05, #378de5), color-stop(1, #79bbff) );
	background:-moz-linear-gradient( center top, #378de5 5%, #79bbff 100% );
	filter:progid:DXImageTransform.Microsoft.gradient(startColorstr='#378de5', endColorstr='#79bbff');
	background-color:#378de5;
	color:#ffffff;
	font-family:arial;
	font-size:15px;
	font-weight:bold;
	padding:6px 24px;
	text-decoration:none;
	text-shadow:1px 1px 0px #528ecc;
}.myButton:active {
	position:relative;
	top:1px;
}
/* This imageless css button was generated by CSSButtonGenerator.com */
</style>

<table>
  {{rank = 1}}

  {{if len(childFaces)==0:}}
  <i> Sorry there are no Faces to Mash Yet :( </i>
  {{pass}}
  
{{for row in childFaces :}}
   <tr>

     <td><img image_id="{{=row.id}}"  src="{{=URL('download',args=row.image)}}"/></td>
     <td> <b>{{=row.name}}</b><br/>
       <b>Won :</b> {{=row.won}}<br/>
       <b>Lost :</b> {{=row.lost}}<br/>
       <b>Rating :</b> {{=row.elo_rating}}<br/>
       <b>Rank : </b> {{=rank}}{{rank+=1}}<br/>
     </td>
     <td>{{=A("Delete",_href=URL("face","/delete/"+request.args[0]+"/"+str(row.id)), _class="myButton") }}</td>
     </tr>
{{pass}}
     </table>

     

<!--Individual Mash listing Ends here -->
{{else:}}

     
     
{{=H4(T("Mashes You Own"))}} {{=BR()}}
{{if len(rows)==0:}}
     Doesnot Look like you have Created any mashes yet...
{{pass}}
<br/>


<br/>
<ul>
{{for row in rows:}}
{{=LI(B(A(row.name+" ("+str(row.num_of_images)+")",  _href=URL(request.controller,"/list/"+str(row.id)))))}}
  <ul><li>
    {{=I(row.description)}}
  </ul></li>
{{pass}}
</ul>
{{pass}}


{{else:}}
You are not authorized to View this Page
{{pass}}
<br/>
<br/>